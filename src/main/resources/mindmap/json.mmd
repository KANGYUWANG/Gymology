Mind Map generated by NB MindMap plugin   
> __version__=`1.1`,showJumps=`true`
---

# json逻辑

## User

### Consumer

#### 1\.userId<br/>2\.vip
> align=`left`


##### \{<br/>"2":\{\},<br/>"6":\{\},<br/>\.\.\.<br/>\}
> align=`left`


### Coach

#### 1\.userId

##### \{<br/>"1":\{\},<br/>"4":\{\},<br/>"5":\{\},<br/>\.\.<br/>\}
> align=`left`


### Manager

## User\.json

### 1\.username<br/>2\.password<br/>3\.identity<br/>4\.userId<br/>\.\.\.
> align=`left`


#### \{<br/> \[\],<br/>\[\]<br/>\.\.<br/>\]

## 当用户登陆时,我们先验证账号密码<br/>是否正确\(这里可以用东宝原先的方<br/>法,但是必须要两个属性就是用户id<br/>和身份\)\.验证成功后,各个功能区的界<br/>面得按照用户的身份属性重新加载一<br/>遍,再从session里\(类似controllerKeeper\)<br/>拿到身份属性,比如说identity='coach',然<br/>后再到Coach\.json里拿到userId然后加载<br/>教练的个人信息\.<br/>这样子也有一个好处,比如说登录的用户<br/>是一个客户,当他想要查看教练的课程的<br/>时候也可以直接从Coach\.json加载全部教<br/>练的信息\(就不用单独列出一个json文件<br/>来展示信息\)
> align=`left`

